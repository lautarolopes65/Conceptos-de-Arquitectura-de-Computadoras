EOI EQU 20H 
IMR EQU 21H
INT0 EQU 24H
PIO EQU 30H
N_F10 EQU 15 

ORG 60
IP_F10 DW RUT_F10

ORG 1000H
MSJ DB "HOLA COMO VA"
FIN DB ?
SALTO DB 10
ORG 3500H
RUT_F10:
  PUSH AX
  IN AL,PIO+1
  CMP AL,0FFH
  JNZ sigo
  XOR AL,0FFH
  OUT PIO+1,AL
  JMP sigo1
sigo:
  MOV AL,0FFH
  OUT PIO+1,AL
sigo1:
  MOV AL,EOI
  OUT EOI,AL
  POP AX
IRET
ORG 2000H 
  CLI
  MOV AL,0FCH
  OUT IMR,AL ; habilito f10
  MOV AL,N_F10
  OUT INT0,AL ; id de f10
  MOV AL,0FFH
  OUT PIO+2,AL ; CA=11111111b
  MOV AL,0
  OUT PIO+3,AL ; CB=00000000b
  STI
LAZO:
  JMP LAZO
 INT 0
END